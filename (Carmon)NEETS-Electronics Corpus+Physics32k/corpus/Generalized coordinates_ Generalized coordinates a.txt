The principle of virtual work states that if a system is in static equilibrium, the virtual work of the applied forces is zero for all virtual movements of the system from this state, that is, δW=0 for any variation δr. When formulated in terms of generalized coordinates, this is equivalent to the requirement that the generalized forces for any virtual displacement are zero, that is Fi=0.
Let the forces on the system be Fj, j=1, ..., m be applied to points with Cartesian coordinates rj, j=1,..., m, then the virtual work generated by a virtual displacement from the equilibrium position is given by




δ
W
=

∑

j
=
1


m




F


j


⋅
δ


r


j


.


{\displaystyle \delta W=\sum _{j=1}^{m}\mathbf {F} _{j}\cdot \delta \mathbf {r} _{j}.}

where δrj, j=1, ..., m denote the virtual displacements of each point in the body.
Now assume that each δrj depends on the generalized coordinates qi, i=1, ..., n, then




δ


r


j


=



∂


r


j




∂

q

1





δ


q


1


+
…
+



∂


r


j




∂

q

n





δ


q


n


,


{\displaystyle \delta \mathbf {r} _{j}={\frac {\partial \mathbf {r} _{j}}{\partial q_{1}}}\delta {q}_{1}+\ldots +{\frac {\partial \mathbf {r} _{j}}{\partial q_{n}}}\delta {q}_{n},}

and




δ
W
=

(


∑

j
=
1


m




F


j


⋅



∂


r


j




∂

q

1






)

δ


q


1


+
…
+

(


∑

j
=
1


m




F


j


⋅



∂


r


j




∂

q

n






)

δ


q


n


.


{\displaystyle \delta W=\left(\sum _{j=1}^{m}\mathbf {F} _{j}\cdot {\frac {\partial \mathbf {r} _{j}}{\partial q_{1}}}\right)\delta {q}_{1}+\ldots +\left(\sum _{j=1}^{m}\mathbf {F} _{j}\cdot {\frac {\partial \mathbf {r} _{j}}{\partial q_{n}}}\right)\delta {q}_{n}.}

The n terms





F

i


=

∑

j
=
1


m




F


j


⋅



∂


r


j




∂

q

i





,

i
=
1
,
…
,
n
,


{\displaystyle F_{i}=\sum _{j=1}^{m}\mathbf {F} _{j}\cdot {\frac {\partial \mathbf {r} _{j}}{\partial q_{i}}},\quad i=1,\ldots ,n,}

are the generalized forces acting on the system. Kane shows that these generalized forces can also be formulated in terms of the ratio of time derivatives,





F

i


=

∑

j
=
1


m




F


j


⋅



∂


v


j




∂




q
˙




i





,

i
=
1
,
…
,
n
,


{\displaystyle F_{i}=\sum _{j=1}^{m}\mathbf {F} _{j}\cdot {\frac {\partial \mathbf {v} _{j}}{\partial {\dot {q}}_{i}}},\quad i=1,\ldots ,n,}

where vj is the velocity of the point of application of the force Fj.
In order for the virtual work to be zero for an arbitrary virtual displacement, each of the generalized forces must be zero, that is




δ
W
=
0

⇒


F

i


=
0
,
i
=
1
,
…
,
n
.


{\displaystyle \delta W=0\quad \Rightarrow \quad F_{i}=0,i=1,\ldots ,n.}