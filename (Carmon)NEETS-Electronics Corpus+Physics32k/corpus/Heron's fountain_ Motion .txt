Heron's fountain is not a perpetual motion machine. If the nozzle of the spout is narrow, it may play for several minutes, but it eventually comes to a stop. The water coming out of the tube may go higher than the level in any container, but the net flow of water is downward. If, however, the volumes of the air supply and fountain supply containers are designed to be much larger than the volume of the basin, with the flow rate of water from the nozzle of the spout being held constant, the fountain could operate for a far greater time interval.
Its action may seem less paradoxical if considered as a siphon, but with the upper arch of the tube removed, and the air pressure between the two lower containers providing the positive pressure to lift the water over the arch. The device is also known as Heron's siphon.
The gravitational potential energy of the water which falls a long way from the basin into the lower container is transferred by pneumatic pressure tube (only air is moved upwards at this stage) to push the water from the upper container a short way above the basin.
The fountain can spout (almost) as high above the upper container as the water falls from the basin into the lower container. For maximum effect, place the upper container as closely beneath the basin as possible and place the lower container a long way beneath both.
As soon as the water level in the upper container has dropped so low that the water bearing tube no longer touches the water surface, the fountain stops. In order to make the fountain play again, the air supply container is emptied of water, and the fountain supply container and the basin are refilled. Lifting the water provides the energy required.