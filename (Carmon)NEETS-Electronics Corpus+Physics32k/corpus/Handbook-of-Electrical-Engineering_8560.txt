Many  variations  exist,  in  particular  to  process  interrupts  within  the  emulation  of  a  lengthy  operation  or  to
optimize throughput, but the general principle and structure are fairly constant.