Relevant keyholes are those close to the uncertainty ellipsoid projected onto the b-plane, where it becomes an elongated ellipse. The ellipse shrinks and jitters as new observations of the asteroid are added to the evaluation. If the probable path of the asteroid keeps close to a keyhole, the precise position of the keyhole itself would matter. It varies with the incoming direction and velocity of the asteroid and with the non-gravitational forces acting on it between the two encounters. Thus, “a miss is as good as a mile” does not apply to a keyhole of several hundred meters width. However, changing the path of an asteroid by a mile can be done with a relatively small impulse if the first encounter is still years away. Deflecting the asteroid after the fly-by would need a much stronger impulse.
For a rapidly rotating planet such as the Earth, calculation of trajectories passing close to it, less than a dozen radii, should include the oblateness of the planet—its gravitational field is not spherically symmetric. For even closer trajectories, gravity anomalies may be important.
For a large asteroid (or comet) passing close to the Roche limit, its size, which is inferred from its magnitude, affects not only the Roche limit but also the trajectory because the center of gravitational force on the body deviates from its center of mass resulting in a higher-order tidal force shifting the keyhole.