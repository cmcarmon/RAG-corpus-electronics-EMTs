The Lie bracket gives the adjustment of the velocity term resulting from a perturbation of the motion in the setting of curved spaces. Using Hamilton's principle of least-action derives the optimizing flows as a critical point for the action integral of the integral of the kinetic energy. The Lie bracket for vector fields in Computational Anatomy was first introduced in Miller, Trouve and Younes. The derivation calculates the perturbation



δ
v


{\displaystyle \delta v}
on the vector fields




v

ε


=
v
+
ε
δ
v


{\displaystyle v^{\varepsilon }=v+\varepsilon \delta v}
in terms of the derivative in time of the group perturbation adjusted by the correction of the Lie bracket of vector fields in this function setting involving the Jacobian matrix, unlike the matrix group case:

Proof: Proving Lie bracket of vector fields take a first order perturbation of the flow at point



φ
∈

Diff

V




{\displaystyle \varphi \in \operatorname {Diff} _{V}}
.

The Lie bracket gives the first order variation of the vector field with respect to first order variation of the flow.




δ

v

t


=


d

d
t




w

t


−
a

d


v

t




(

w

t


)
=


d

d
t




w

t


−
(
(
D

v

t


)

w

t


−
(
D

w

t


)

v

t


)

.


{\displaystyle \delta v_{t}={\frac {d}{dt}}w_{t}-ad_{v_{t}}(w_{t})={\frac {d}{dt}}w_{t}-((Dv_{t})w_{t}-(Dw_{t})v_{t})\ .}