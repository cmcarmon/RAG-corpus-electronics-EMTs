For elliptic orbits, the true anomaly ν can be calculated from orbital state vectors as:




ν
=
arccos
⁡




e

⋅

r





|
e
|




|
r
|







{\displaystyle \nu =\arccos {{\mathbf {e} \cdot \mathbf {r} } \over {\mathbf {\left|e\right|} \mathbf {\left|r\right|} }}}

(if r ⋅ v < 0 then replace ν by 2π − ν)

where:
v is the orbital velocity vector of the orbiting body,
e is the eccentricity vector,
r is the orbital position vector (segment FP in the figure) of the orbiting body.