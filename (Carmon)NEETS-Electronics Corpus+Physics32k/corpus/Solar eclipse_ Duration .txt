The following factors determine the duration of a total solar eclipse (in order of decreasing importance):
The moon being almost exactly at perigee (making its angular diameter as large as possible).
The earth being very near aphelion (furthest away from the sun in its elliptical orbit, making its angular diameter nearly as small as possible).
The midpoint of the eclipse being very close to the earth's equator, where the rotational velocity is greatest.
The vector of the eclipse path at the midpoint of the eclipse aligning with the vector of the earth's rotation (i.e. not diagonal but due east).
The midpoint of the eclipse being near the subsolar point (the part of the earth closest to the sun).
The longest eclipse that has been calculated thus far is the eclipse of July 16, 2186 (with a maximum duration of 7 minutes 4 seconds over northern Guyana).