To build the Kaluza–Klein theory, one picks an invariant metric on the circle S1 that is the fiber of the U(1)-bundle of electromagnetism. In this discussion, an invariant metric is simply one that is invariant under rotations of the circle. Suppose this metric gives the circle a total length of Λ. One then considers metrics






g
^





{\displaystyle {\widehat {g}}}
on the bundle P that are consistent with both the fiber metric, and the metric on the underlying manifold M. The consistency conditions are:
The projection of






g
^





{\displaystyle {\widehat {g}}}
to the vertical subspace






Vert



p


P
⊂

T

p


P


{\displaystyle {\mbox{Vert}}_{p}P\subset T_{p}P}
needs to agree with metric on the fiber over a point in the manifold M.
The projection of






g
^





{\displaystyle {\widehat {g}}}
to the horizontal subspace






Hor



p


P
⊂

T

p


P


{\displaystyle {\mbox{Hor}}_{p}P\subset T_{p}P}
of the tangent space at point p ∈ P must be isomorphic to the metric g on M at π(p).
The Kaluza–Klein action for such a metric is given by




S
(



g
^



)
=

∫

P


R
(



g
^



)



vol


(



g
^



)



{\displaystyle S({\widehat {g}})=\int _{P}R({\widehat {g}})\;{\mbox{vol}}({\widehat {g}})\,}

The scalar curvature, written in components, then expands to




R
(



g
^



)
=

π

∗



(

R
(
g
)
−



Λ

2


2


|
F

|

2



)



{\displaystyle R({\widehat {g}})=\pi ^{*}\left(R(g)-{\frac {\Lambda ^{2}}{2}}\vert F\vert ^{2}\right)}

where π* is the pullback of the fiber bundle projection π: P → M. The connection A on the fiber bundle is related to the electromagnetic field strength as





π

∗


F
=

d

A


{\displaystyle \pi ^{*}F=\mathrm {d} A}

That there always exists such a connection, even for fiber bundles of arbitrarily complex topology, is a result from homology and specifically, K-theory. Applying Fubini's theorem and integrating on the fiber, one gets




S
(



g
^



)
=
Λ

∫

M



(

R
(
g
)
−


1

Λ

2




|
F

|

2



)




vol


(
g
)


{\displaystyle S({\widehat {g}})=\Lambda \int _{M}\left(R(g)-{\frac {1}{\Lambda ^{2}}}\vert F\vert ^{2}\right)\;{\mbox{vol}}(g)}

Varying the action with respect to the component A, one regains the Maxwell equations. Applying the variational principle to the base metric g, one gets the Einstein equations





R

i
j


−


1
2



g

i
j


R
=


1

Λ

2





T

i
j




{\displaystyle R_{ij}-{\frac {1}{2}}g_{ij}R={\frac {1}{\Lambda ^{2}}}T_{ij}}

with the stress–energy tensor being given by





T

i
j


=

F

i
k



F

j
l



g

k
l


−


1
4



g

i
j


|
F

|

2


,


{\displaystyle T^{ij}=F^{ik}F^{jl}g_{kl}-{\frac {1}{4}}g^{ij}\vert F\vert ^{2},}

sometimes called the Maxwell stress tensor.
The original theory identifies Λ with the fiber metric g55, and allows Λ to vary from fiber to fiber. In this case, the coupling between gravity and the electromagnetic field is not constant, but has its own dynamical field, the radion.