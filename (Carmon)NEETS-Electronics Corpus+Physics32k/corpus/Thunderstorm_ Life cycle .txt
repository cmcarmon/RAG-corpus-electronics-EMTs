Warm air has a lower density than cool air, so warmer air rises upwards and cooler air will settle at the bottom (this effect can be seen with a hot air balloon). Clouds form as relatively warmer air, carrying moisture, rises within cooler air. The moist air rises, and, as it does so, it cools and some of the water vapor in that rising air condenses. When the moisture condenses, it releases energy known as latent heat of vaporization, which allows the rising packet of air to cool less than the cooler surrounding air continuing the cloud's ascension. If enough instability is present in the atmosphere, this process will continue long enough for cumulonimbus clouds to form and produce lightning and thunder. Meteorological indices such as convective available potential energy (CAPE) and the lifted index can be used to assist in determining potential upward vertical development of clouds. Generally, thunderstorms require three conditions to form:
Moisture
An unstable airmass
A lifting force (heat)
All thunderstorms, regardless of type, go through three stages: the developing stage, the mature stage, and the dissipation stage. The average thunderstorm has a 24 km (15 mi) diameter. Depending on the conditions present in the atmosphere, each of these three stages take an average of 30 minutes.