As Einstein later said, the reason for the development of general relativity was the preference of inertial motion within special relativity, while a theory which from the outset prefers no state of motion appeared more satisfactory to him. So, while still working at the patent office in 1907, Einstein had what he would call his "happiest thought". He realized that the principle of relativity could be extended to gravitational fields.
Consequently, in 1907 he wrote an article (published 1908) on acceleration under special relativity. In that article, he argued that free fall is really inertial motion, and that for a freefalling observer the rules of special relativity must apply. This argument is called the Equivalence principle. In the same article, Einstein also predicted the phenomenon of gravitational time dilation.
In 1911, Einstein published another article expanding on the 1907 article. There, he thought about the case of a uniformly accelerated box not in a gravitational field, and noted that it would be indistinguishable from a box sitting still in an unchanging gravitational field. He used special relativity to see that the rate of clocks at the top of a box accelerating upward would be faster than the rate of clocks at the bottom. He concludes that the rates of clocks depend on their position in a gravitational field, and that the difference in rate is proportional to the gravitational potential to first approximation.
Also the deflection of light by massive bodies was predicted. Although the approximation was crude, it allowed him to calculate that the deflection is nonzero. German astronomer Erwin Finlay-Freundlich publicized Einstein's challenge to scientists around the world. This urged astronomers to detect the deflection of light during a solar eclipse, and gave Einstein confidence that the scalar theory of gravity proposed by Gunnar Nordström was incorrect. But the actual value for the deflection that he calculated was too small by a factor of two, because the approximation he used doesn't work well for things moving at near the speed of light. When Einstein finished the full theory of general relativity, he would rectify this error and predict the correct amount of light deflection by the sun.
Another of Einstein's notable thought experiments about the nature of the gravitational field is that of the rotating disk (a variant of the Ehrenfest paradox). He imagined an observer performing experiments on a rotating turntable. He noted that such an observer would find a different value for the mathematical constant π than the one predicted by Euclidean geometry. The reason is that the radius of a circle would be measured with an uncontracted ruler, but, according to special relativity, the circumference would seem to be longer because the ruler would be contracted. Since Einstein believed that the laws of physics were local, described by local fields, he concluded from this that spacetime could be locally curved. This led him to study Riemannian geometry, and to formulate general relativity in this language.