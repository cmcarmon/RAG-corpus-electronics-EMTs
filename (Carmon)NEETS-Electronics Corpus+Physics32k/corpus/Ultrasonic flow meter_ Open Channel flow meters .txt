In this case, the ultrasonic element is actually measuring the height of the water in the open channel; based on the geometry of the channel, the flow can be determined from the height. The ultrasonic sensor usually also has a temperature sensor with it because the speed of sound in air is affected by the temperature.