From a thermodynamic point of view, a firearm is a special type of piston engine, or in general heat engine where the bullet has a function of a piston. The energy conversion efficiency of a firearm strongly depends on its construction, especially on its caliber and barrel length. However, for illustration, here is the energy balance of a typical small firearm for .300 Hawk ammunition:
Barrel friction 2%
Projectile motion 32%
Hot gases 34%
Barrel heat 30%
Unburned propellant 1%.
which is comparable with a typical piston engine.
Higher efficiency can be achieved in longer barrel firearms because they have better volume ratio. However, the efficiency gain is less than corresponding to the volume ratio, because the expansion is not truly adiabatic and burnt gas becomes cold faster because of exchange of heat with the barrel. Large firearms (such as cannons) achieve smaller barrel-heating loss because they have better volume-to-surface ratio. High barrel diameter is also helpful because lower barrel friction is induced by sealing compared to the accelerating force. The force is proportional to the square of the barrel diameter while sealing needs are proportional to the perimeter by the same pressure.