The mathematical discussion presented above does not require quantum mechanics at its heart. In particular, the derivation is essentially valid for waves of any sort. With slight modifications to account for the squaring of amplitudes, the derivation could be applied to, for example, sound waves or water waves in a ripple tank.
For the relation to be a precise formulation of Bohr complementarity, one must introduce wave–particle duality in the discussion. This means one must consider both wave and particle behavior of light on an equal footing. Wave–particle duality implies that one must A) use the unitary evolution of the wave before the observation and B) consider the particle aspect after the detection (this is called the Heisenberg–von Neumann collapse postulate). Indeed, since one could only observe the photon in one point of space (a photon can not be absorbed twice) this implies that the meaning of the wave function is essentially statistical and cannot be confused with a classical wave (such as those that occur in air or water).
In this context the direct observation of a photon in the aperture plane precludes the following recording of the same photon in the focal plane (F). Reciprocally the observation in (F) means that we did not absorb the photon before. If both holes are open this implies that we don't know where we would have detected the photon in the aperture plane.



D


{\displaystyle D}
defines thus the distinguishability of the two holes A and B.
A maximal value of distinguishability



D
=
1


{\displaystyle D=1}
means that only one hole (say A) is open. If now we detect the photon at (F), we know that that photon would have been detected in A necessarily. Conversely,



D
=
0


{\displaystyle D=0}
means that both holes are open and play a symmetric role. If we detect the photon at (F), we don't know where the photon would have been detected in the aperture plane and



D
=
0


{\displaystyle D=0}
characterizes our ignorance.
Similarly, if



D
=
0


{\displaystyle D=0}
then



V
=
1


{\displaystyle V=1}
and this means that a statistical accumulation of photons at (F) builds up an interference pattern with maximal visibility. Conversely,



D
=
1


{\displaystyle D=1}
implies



V
=
0


{\displaystyle V=0}
and thus, no fringes appear after a statistical recording of several photons.
The above treatment formalizes wave particle duality for the double-slit experiment.