In principle of stationary integral of energy for a light-like particle's motion, the pseudo-Riemannian metric with coefficients







g
~




i
j




{\displaystyle {\tilde {g}}_{ij}}
is defined by a transformation








g
~




00


=

ρ

2




g


00


,








g
~




0
k


=
ρ


g


0
k


,








g
~




k
q


=


g


k
q


.


{\displaystyle {\tilde {g}}_{00}=\rho ^{2}{g}_{00},\,\,\,\,{\tilde {g}}_{0k}=\rho {g}_{0k},\,\,\,\,{\tilde {g}}_{kq}={g}_{kq}.}

With time coordinate




x

0




{\displaystyle x^{0}}
and space coordinates with indexes k,q=1,2,3 the line element is written in form




d

s

2


=

ρ

2



g

00


(
d

x

0



)

2


+
2
ρ

g

0
k


d

x

0


d

x

k


+

g

k
q


d

x

k


d

x

q


,


{\displaystyle ds^{2}=\rho ^{2}g_{00}(dx^{0})^{2}+2\rho g_{0k}dx^{0}dx^{k}+g_{kq}dx^{k}dx^{q},}

where



ρ


{\displaystyle \rho }
is some quantity, which is assumed equal 1 and regarded as the energy of the light-like particle with



d
s
=
0


{\displaystyle ds=0}
. Solving this equation for



ρ


{\displaystyle \rho }
under condition




g

00


≠
0


{\displaystyle g_{00}\neq 0}
gives two solutions




ρ
=



−

g

0
k



v

k


±


(

g

0
k



g

0
q


−

g

00



g

k
q


)

v

k



v

q







g

00



v

0





,


{\displaystyle \rho ={\frac {-g_{0k}v^{k}\pm {\sqrt {(g_{0k}g_{0q}-g_{00}g_{kq})v^{k}v^{q}}}}{g_{00}v^{0}}},}

where




v

i


=
d

x

i



/

d
μ


{\displaystyle v^{i}=dx^{i}/d\mu }
are elements of the four-velocity. Even if one solution, in accordance with making definitions, is



ρ
=
1


{\displaystyle \rho =1}
.
With




g

00


=
0


{\displaystyle g_{00}=0}
and




g

0
k


≠
0


{\displaystyle g_{0k}\neq 0}
even if for one k the energy takes form




ρ
=
−




g

k
q



v

k



v

q




2

v

0



v

0





.


{\displaystyle \rho =-{\frac {g_{kq}v^{k}v^{q}}{2v_{0}v^{0}}}.}

In both cases for the free moving particle the Lagrangian is




L
=
−
ρ
.


{\displaystyle L=-\rho .}

Its partial derivatives give the canonical momenta





p

λ


=



∂
L


∂

v

λ





=



v

λ




v

0



v

0







{\displaystyle p_{\lambda }={\frac {\partial L}{\partial v^{\lambda }}}={\frac {v_{\lambda }}{v^{0}v_{0}}}}

and the forces





F

λ


=



∂
L


∂

x

λ





=


1

2

v

0



v

0








∂

g

i
j




∂

x

λ






v

i



v

j


.


{\displaystyle F_{\lambda }={\frac {\partial L}{\partial x^{\lambda }}}={\frac {1}{2v^{0}v_{0}}}{\frac {\partial g_{ij}}{\partial x^{\lambda }}}v^{i}v^{j}.}

Momenta satisfy energy condition  for closed system




ρ
=

v

λ



p

λ


−
L
,


{\displaystyle \rho =v^{\lambda }p_{\lambda }-L,}

and thus



ρ


{\displaystyle \rho }
is Hamiltonian.
Standard variational procedure according to Hamilton's principle is applied to action




S
=

∫


μ

b





μ

a




L
d
μ
=
−

∫


μ

b





μ

a




ρ
d
μ
,


{\displaystyle S=\int _{\mu _{b}}^{\mu _{a}}Ld\mu =-\int _{\mu _{b}}^{\mu _{a}}\rho d\mu ,}

which is integral of energy. Stationary action is conditional upon zero variational derivatives δS/δxλ and leads to Euler–Lagrange equations






d

d
μ






∂
ρ


∂

v

λ





−



∂
ρ


∂

x

λ





=
0
,


{\displaystyle {\frac {d}{d\mu }}{\frac {\partial \rho }{\partial v^{\lambda }}}-{\frac {\partial \rho }{\partial x^{\lambda }}}=0,}

which is rewritten in form






d

d
μ




p

λ


−

F

λ


=
0.


{\displaystyle {\frac {d}{d\mu }}p_{\lambda }-F_{\lambda }=0.}

After substitution of canonical momentum and forces they give motion equations of lightlike particle in a free space







d

v

0




d
μ



+



v

0



2

v

0








∂

g

i
j




∂

x

0






v

i



v

j


=
0


{\displaystyle {\frac {dv^{0}}{d\mu }}+{\frac {v^{0}}{2v_{0}}}{\frac {\partial g_{ij}}{\partial x^{0}}}v^{i}v^{j}=0}

and




(

g

k
λ



v

0


−

g

0
k



v

λ


)



d

v

k




d
μ



+

[



1

2

v

0








∂

g

i
j




∂

x

0





(

g

00



v

0



v

λ


+

g

k
λ



v

k



v

0


)
−


1
2





∂

g

i
j




∂

x

λ






v

0


+



∂

g

i
λ




∂

x

j






v

0


−



∂

g

0
i




∂

x

j






v

λ



]


v

i



v

j


=
0.


{\displaystyle (g_{k\lambda }v_{0}-g_{0k}v_{\lambda }){\frac {dv^{k}}{d\mu }}+\left[{\frac {1}{2v_{0}}}{\frac {\partial g_{ij}}{\partial x^{0}}}(g_{00}v^{0}v_{\lambda }+g_{k\lambda }v^{k}v_{0})-{\frac {1}{2}}{\frac {\partial g_{ij}}{\partial x^{\lambda }}}v_{0}+{\frac {\partial g_{i\lambda }}{\partial x^{j}}}v_{0}-{\frac {\partial g_{0i}}{\partial x^{j}}}v_{\lambda }\right]v^{i}v^{j}=0.}