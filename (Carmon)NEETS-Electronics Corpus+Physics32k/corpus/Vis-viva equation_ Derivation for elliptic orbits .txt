In the vis-viva equation the mass m of the orbiting body (e.g., a spacecraft) is taken to be negligible in comparison to the mass M of the central body (e.g., the Earth). The central body and orbiting body are also often referred to as the primary and a particle respectively. In the specific cases of an elliptical or circular orbit, the vis-viva equation may be readily derived from conservation of energy and momentum.
Specific total energy is constant throughout the orbit. Thus, using the subscripts a and p to denote apoapsis (apogee) and periapsis (perigee), respectively,




ε
=



v

a


2


2


−



G
M


r

a




=



v

p


2


2


−



G
M


r

p






{\displaystyle \varepsilon ={\frac {v_{a}^{2}}{2}}-{\frac {GM}{r_{a}}}={\frac {v_{p}^{2}}{2}}-{\frac {GM}{r_{p}}}}

Rearranging,







v

a


2


2


−



v

p


2


2


=



G
M


r

a




−



G
M


r

p






{\displaystyle {\frac {v_{a}^{2}}{2}}-{\frac {v_{p}^{2}}{2}}={\frac {GM}{r_{a}}}-{\frac {GM}{r_{p}}}}

Recalling that for an elliptical orbit (and hence also a circular orbit) the velocity and radius vectors are perpendicular at apoapsis and periapsis, conservation of angular momentum requires specific angular momentum



h
=

r

p



v

p


=

r

a



v

a


=

constant



{\displaystyle h=r_{p}v_{p}=r_{a}v_{a}={\text{constant}}}
, thus




v

p


=



r

a



r

p





v

a




{\displaystyle v_{p}={\frac {r_{a}}{r_{p}}}v_{a}}
:






1
2



(

1
−



r

a


2



r

p


2





)


v

a


2


=



G
M


r

a




−



G
M


r

p






{\displaystyle {\frac {1}{2}}\left(1-{\frac {r_{a}^{2}}{r_{p}^{2}}}\right)v_{a}^{2}={\frac {GM}{r_{a}}}-{\frac {GM}{r_{p}}}}







1
2



(




r

p


2


−

r

a


2




r

p


2




)


v

a


2


=



G
M


r

a




−



G
M


r

p






{\displaystyle {\frac {1}{2}}\left({\frac {r_{p}^{2}-r_{a}^{2}}{r_{p}^{2}}}\right)v_{a}^{2}={\frac {GM}{r_{a}}}-{\frac {GM}{r_{p}}}}

Isolating the kinetic energy at apoapsis and simplifying,






1
2



v

a


2


=

(




G
M


r

a




−



G
M


r

p





)

⋅



r

p


2




r

p


2


−

r

a


2







{\displaystyle {\frac {1}{2}}v_{a}^{2}=\left({\frac {GM}{r_{a}}}-{\frac {GM}{r_{p}}}\right)\cdot {\frac {r_{p}^{2}}{r_{p}^{2}-r_{a}^{2}}}}







1
2



v

a


2


=
G
M

(




r

p


−

r

a





r

a



r

p





)




r

p


2




r

p


2


−

r

a


2







{\displaystyle {\frac {1}{2}}v_{a}^{2}=GM\left({\frac {r_{p}-r_{a}}{r_{a}r_{p}}}\right){\frac {r_{p}^{2}}{r_{p}^{2}-r_{a}^{2}}}}







1
2



v

a


2


=
G
M



r

p




r

a


(

r

p


+

r

a


)





{\displaystyle {\frac {1}{2}}v_{a}^{2}=GM{\frac {r_{p}}{r_{a}(r_{p}+r_{a})}}}

From the geometry of an ellipse,



2
a
=

r

p


+

r

a




{\displaystyle 2a=r_{p}+r_{a}}
where a is the length of the semimajor axis. Thus,






1
2



v

a


2


=
G
M



2
a
−

r

a





r

a


(
2
a
)



=
G
M

(



1

r

a




−


1

2
a




)

=



G
M


r

a




−



G
M


2
a





{\displaystyle {\frac {1}{2}}v_{a}^{2}=GM{\frac {2a-r_{a}}{r_{a}(2a)}}=GM\left({\frac {1}{r_{a}}}-{\frac {1}{2a}}\right)={\frac {GM}{r_{a}}}-{\frac {GM}{2a}}}

Substituting this into our original expression for specific orbital energy,




ε
=



v

2


2


−



G
M

r


=



v

p


2


2


−



G
M


r

p




=



v

a


2


2


−



G
M


r

a




=
−



G
M


2
a





{\displaystyle \varepsilon ={\frac {v^{2}}{2}}-{\frac {GM}{r}}={\frac {v_{p}^{2}}{2}}-{\frac {GM}{r_{p}}}={\frac {v_{a}^{2}}{2}}-{\frac {GM}{r_{a}}}=-{\frac {GM}{2a}}}

Thus,



ε
=
−



G
M


2
a





{\displaystyle \varepsilon =-{\frac {GM}{2a}}}
and the vis-viva equation may be written







v

2


2


−



G
M

r


=
−



G
M


2
a





{\displaystyle {\frac {v^{2}}{2}}-{\frac {GM}{r}}=-{\frac {GM}{2a}}}

or





v

2


=
G
M

(



2
r


−


1
a



)



{\displaystyle v^{2}=GM\left({\frac {2}{r}}-{\frac {1}{a}}\right)}

Therefore, the conserved angular momentum L = mh can be derived using




r

a


+

r

p


=
2
a


{\displaystyle r_{a}+r_{p}=2a}
and




r

a



r

p


=

b

2




{\displaystyle r_{a}r_{p}=b^{2}}
,
where a is semi-major axis and b is semi-minor axis of the elliptical orbit, as follows -





v

a


2


=
G
M

(



2

r

a




−


1
a



)

=



G
M

a



(



2
a
−

r

a




r

a




)

=



G
M

a



(



r

p



r

a




)

=



G
M

a




(


b

r

a




)


2




{\displaystyle v_{a}^{2}=GM\left({\frac {2}{r_{a}}}-{\frac {1}{a}}\right)={\frac {GM}{a}}\left({\frac {2a-r_{a}}{r_{a}}}\right)={\frac {GM}{a}}\left({\frac {r_{p}}{r_{a}}}\right)={\frac {GM}{a}}\left({\frac {b}{r_{a}}}\right)^{2}}

and alternately,





v

p


2


=
G
M

(



2

r

p




−


1
a



)

=



G
M

a



(



2
a
−

r

p




r

p




)

=



G
M

a



(



r

a



r

p




)

=



G
M

a




(


b

r

p




)


2




{\displaystyle v_{p}^{2}=GM\left({\frac {2}{r_{p}}}-{\frac {1}{a}}\right)={\frac {GM}{a}}\left({\frac {2a-r_{p}}{r_{p}}}\right)={\frac {GM}{a}}\left({\frac {r_{a}}{r_{p}}}\right)={\frac {GM}{a}}\left({\frac {b}{r_{p}}}\right)^{2}}

Therefore, specific angular momentum



h
=

r

p



v

p


=

r

a



v

a


=
b




G
M

a





{\displaystyle h=r_{p}v_{p}=r_{a}v_{a}=b{\sqrt {\frac {GM}{a}}}}
, and
Total angular momentum



L
=
m
h
=
m
b




G
M

a





{\displaystyle L=mh=mb{\sqrt {\frac {GM}{a}}}}