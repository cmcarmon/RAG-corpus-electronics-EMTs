A photon γ with wavelength λ collides with an electron e in an atom, which is treated as being at rest. The collision causes the electron to recoil, and a new photon γ' with wavelength λ' emerges at angle θ from the photon's incoming path. Let e' denote the electron after the collision. Compton allowed for the possibility that the interaction would sometimes accelerate the electron to speeds sufficiently close to the velocity of light as to require the application of Einstein's special relativity theory to properly describe its energy and momentum.
At the conclusion of Compton's 1923 paper, he reported results of experiments confirming the predictions of his scattering formula, thus supporting the assumption that photons carry momentum as well as quantized energy. At the start of his derivation, he had postulated an expression for the momentum of a photon from equating Einstein's already established mass-energy relationship of



E
=
m

c

2




{\displaystyle E=mc^{2}}
to the quantized photon energies of



h
f


{\displaystyle hf}
, which Einstein had separately postulated. If



m

c

2


=
h
f


{\displaystyle mc^{2}=hf}
, the equivalent photon mass must be



h
f

/


c

2




{\displaystyle hf/c^{2}}
. The photon's momentum is then simply this effective mass times the photon's frame-invariant velocity c. For a photon, its momentum



p
=
h
f

/

c


{\displaystyle p=hf/c}
, and thus hf can be substituted for pc for all photon momentum terms which arise in course of the derivation below. The derivation which appears in Compton's paper is more terse, but follows the same logic in the same sequence as the following derivation.
The conservation of energy



E


{\displaystyle E}
merely equates the sum of energies before and after scattering.





E

γ


+

E

e


=

E


γ
′



+

E


e
′



.



{\displaystyle E_{\gamma }+E_{e}=E_{\gamma '}+E_{e'}.\!}

Compton postulated that photons carry momentum; thus from the conservation of momentum, the momenta of the particles should be similarly related by






p


γ


=


p



γ
′



+


p



e
′



,


{\displaystyle \mathbf {p} _{\gamma }=\mathbf {p} _{\gamma '}+\mathbf {p} _{e'},}

in which (





p

e





{\displaystyle {p_{e}}}
) is omitted on the assumption it is effectively zero.
The photon energies are related to the frequencies by





E

γ


=
h
f



{\displaystyle E_{\gamma }=hf\!}






E


γ
′



=
h

f
′




{\displaystyle E_{\gamma '}=hf'\!}

where h is Planck's constant.
Before the scattering event, the electron is treated as sufficiently close to being at rest that its total energy consists entirely of the mass-energy equivalence of its rest mass




m

e




{\displaystyle m_{e}}
:





E

e


=

m

e



c

2


.



{\displaystyle E_{e}=m_{e}c^{2}.\!}

After scattering, the possibility that the electron might be accelerated to a significant fraction of the speed of light, requires that its total energy be represented using the relativistic energy–momentum relation:





E


e
′



=


(

p


e
′



c

)

2


+
(

m

e



c

2



)

2




.


{\displaystyle E_{e'}={\sqrt {(p_{e'}c)^{2}+(m_{e}c^{2})^{2}}}.}

Substituting these quantities into the expression for the conservation of energy gives,




h
f
+

m

e



c

2


=
h

f
′

+


(

p


e
′



c

)

2


+
(

m

e



c

2



)

2




.


{\displaystyle hf+m_{e}c^{2}=hf'+{\sqrt {(p_{e'}c)^{2}+(m_{e}c^{2})^{2}}}.}

This expression can be used to find the magnitude of the momentum of the scattered electron,





p


e
′




2



c

2


=
(
h
f
−
h

f
′

+

m

e



c

2



)

2


−

m

e


2



c

4


.


(
1
)



{\displaystyle p_{e'}^{\,2}c^{2}=(hf-hf'+m_{e}c^{2})^{2}-m_{e}^{2}c^{4}.\qquad \qquad (1)\!}

Note that the magnitude of the momentum gained by the electron (formerly zero) exceeds that lost by the photon:






1
c




(
h
f
−
h

f
′

+

m

e



c

2



)

2


−

m

e


2



c

4




>



h
f
−
h

f
′


c


.


{\displaystyle {\frac {1}{c}}{\sqrt {(hf-hf'+m_{e}c^{2})^{2}-m_{e}^{2}c^{4}}}>{\frac {hf-hf'}{c}}.}

Equation (1) relates the various energies associated with the collision. The electron's momentum change includes a relativistic change in the mass of the electron so it is not simply related to the change in energy in the manner that occurs in classical physics. The change in the momentum of the photon is also not simply related to the difference in energy but involves a change in direction.
Solving the conservation of momentum expression for the scattered electron's momentum gives,






p



e
′



=


p


γ


−


p



γ
′



.


{\displaystyle \mathbf {p} _{e'}=\mathbf {p} _{\gamma }-\mathbf {p} _{\gamma '}.}

Then by making use of the scalar product,









p


e
′




2





=


p



e
′



⋅


p



e
′



=
(


p


γ


−


p



γ
′



)
⋅
(


p


γ


−


p



γ
′



)






=

p

γ



2


+

p


γ
′




2


−
2

p

γ




p


γ
′



cos
⁡
θ
.






{\displaystyle {\begin{aligned}p_{e'}^{\,2}&=\mathbf {p} _{e'}\cdot \mathbf {p} _{e'}=(\mathbf {p} _{\gamma }-\mathbf {p} _{\gamma '})\cdot (\mathbf {p} _{\gamma }-\mathbf {p} _{\gamma '})\\&=p_{\gamma }^{\,2}+p_{\gamma '}^{\,2}-2p_{\gamma }\,p_{\gamma '}\cos \theta .\end{aligned}}}

Anticipating that




p

γ


c


{\displaystyle p_{\gamma }c}
is replaceable with



h
f


{\displaystyle hf}
, multiply both sides by




c

2




{\displaystyle c^{2}}
:





p


e
′




2



c

2


=

p

γ



2



c

2


+

p


γ
′




2



c

2


−
2

c

2



p

γ




p


γ
′



cos
⁡
θ
.


{\displaystyle p_{e'}^{\,2}c^{2}=p_{\gamma }^{\,2}c^{2}+p_{\gamma '}^{\,2}c^{2}-2c^{2}p_{\gamma }\,p_{\gamma '}\cos \theta .}

After replacing the photon momentum terms with



h
f

/

c


{\displaystyle hf/c}
, we get a second expression for the magnitude of the momentum of the scattered electron:





p


e
′




2



c

2


=
(
h
f

)

2


+
(
h

f
′


)

2


−
2
(
h
f
)
(
h

f
′

)
cos
⁡

θ

.


(
2
)


{\displaystyle p_{e'}^{\,2}c^{2}=(hf)^{2}+(hf')^{2}-2(hf)(hf')\cos {\theta }.\qquad \qquad (2)}

Equating the alternate expressions for this momentum gives




(
h
f
−
h

f
′

+

m

e



c

2



)

2


−

m

e



2



c

4


=


(

h
f

)


2


+


(

h

f
′


)


2


−
2

h

2


f

f
′

cos
⁡

θ

,


{\displaystyle (hf-hf'+m_{e}c^{2})^{2}-m_{e}^{\,2}c^{4}=\left(hf\right)^{2}+\left(hf'\right)^{2}-2h^{2}ff'\cos {\theta },}

which after evaluating the square and then canceling and rearranging terms gives




2
h
f

m

e



c

2


−
2
h

f
′


m

e



c

2


=
2

h

2


f

f
′


(

1
−
cos
⁡
θ

)

.



{\displaystyle 2hfm_{e}c^{2}-2hf'm_{e}c^{2}=2h^{2}ff'\left(1-\cos \theta \right).\,}

Then dividing both sides by



2
h
f

f
′


m

e


c


{\displaystyle 2hff'm_{e}c}
yields






c

f
′



−


c
f


=


h


m

e


c




(

1
−
cos
⁡
θ

)

.



{\displaystyle {\frac {c}{f'}}-{\frac {c}{f}}={\frac {h}{m_{e}c}}\left(1-\cos \theta \right).\,}

Finally, since fλ = f ' λ' = c,





λ
′

−
λ
=


h


m

e


c



(
1
−
cos
⁡

θ

)

.


{\displaystyle \lambda '-\lambda ={\frac {h}{m_{e}c}}(1-\cos {\theta })~.}

It can also be seen that the angle φ of the outgoing electron with the direction of the incoming photon is specified by
cotφ = (1+hf/mec2) tan θ/2 .