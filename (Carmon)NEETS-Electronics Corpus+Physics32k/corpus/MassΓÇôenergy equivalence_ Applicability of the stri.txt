As is noted above, two different definitions of mass have been used in special relativity, and also two different definitions of energy. The simple equation E = mc2 is not generally applicable to all these types of mass and energy, except in the special case that the total additive momentum is zero for the system under consideration. In such a case, which is always guaranteed when observing the system from either its center of mass frame or its center of momentum frame, E = mc2 is always true for any type of mass and energy that are chosen. Thus, for example, in the center of mass frame, the total energy of an object or system is equal to its rest mass times c2, a useful equality. This is the relationship used for the container of gas in the previous example. It is not true in other reference frames where the center of mass is in motion. In these systems or for such an object, its total energy depends on both its rest (or invariant) mass, and its (total) momentum.
In inertial reference frames other than the rest frame or center of mass frame, the equation E = mc2 remains true if the energy is the relativistic energy and the mass is the relativistic mass. It is also correct if the energy is the rest or invariant energy (also the minimum energy), and the mass is the rest mass, or the invariant mass. However, connection of the total or relativistic energy (Er) with the rest or invariant mass (m0) requires consideration of the system total momentum, in systems and reference frames where the total momentum has a non-zero value. The formula then required to connect the two different kinds of mass and energy, is the extended version of Einstein's equation, called the relativistic energy–momentum relation:









E

r


2


−

|




p
→






|


2



c

2





=

m

0


2



c

4







E

r


2


−
(
p
c

)

2





=
(

m

0



c

2



)

2








{\displaystyle {\begin{aligned}E_{r}^{2}-|{\vec {p}}\,|^{2}c^{2}&=m_{0}^{2}c^{4}\\E_{r}^{2}-(pc)^{2}&=(m_{0}c^{2})^{2}\end{aligned}}}

or





E

r


=


(

m

0



c

2



)

2


+
(
p
c

)

2








{\displaystyle E_{r}={\sqrt {(m_{0}c^{2})^{2}+(pc)^{2}}}\,\!}

Here the (pc)2 term represents the square of the Euclidean norm (total vector length) of the various momentum vectors in the system, which reduces to the square of the simple momentum magnitude, if only a single particle is considered. This equation reduces to E = mc2 when the momentum term is zero. For photons where m0 = 0, the equation reduces to Er = pc.