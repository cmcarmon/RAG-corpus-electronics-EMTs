The derivation of equations from an action has several advantages. First of all, it allows for easy unification of general relativity with other classical field theories (such as Maxwell theory), which are also formulated in terms of an action. In the process the derivation from an action identifies a natural candidate for the source term coupling the metric to matter fields. Moreover, the action allows for the easy identification of conserved quantities through Noether's theorem by studying symmetries of the action.
In general relativity, the action is usually assumed to be a functional of the metric (and matter fields), and the connection is given by the Levi-Civita connection. The Palatini formulation of general relativity assumes the metric and connection to be independent, and varies with respect to both independently, which makes it possible to include fermionic matter fields with non-integral spin.
The Einstein equations in the presence of matter are given by adding the matter action to the Einstein-Hilbert action.